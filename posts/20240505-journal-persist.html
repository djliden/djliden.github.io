<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Persistent Elements in Daily Journals with Org Agenda</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/org-base.css"/>
<link rel="stylesheet" type="text/css" href="/orgstyle.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@dliden">
<link rel="alternate" type="application/rss+xml" title="Daniel Liden's Blog" href="/rss.xml">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="/dark-mode.js" defer></script>
<script src="/admonitions.js" defer></script>
</head>
<body>
<div id="preamble" class="status">
<hr class="topnav-rule">
<header class="site-header">
  <a href="/index.html" class="site-header__brand">
    <h2>Daniel Liden</h2>
  </a>
  <nav class="topnav-links" aria-label="Primary">
    <a href="/archive.html">Blog</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a href="/about.html">About Me</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a href="/photos.html">Photos</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a href="/notebooks/">Notebooks</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a href="/notes.html">Notes</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a class="topnav-icon" href="/rss.xml" aria-label="RSS feed">
      <svg class="rss-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 4h1a14 14 0 0 1 14 14v1"/>
        <path d="M5 11h1a7 7 0 0 1 7 7v1"/>
        <circle cx="6" cy="18" r="2"/>
      </svg>
    </a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <button id="theme-toggle" class="nav-theme-toggle topnav-icon" type="button" aria-label="Switch to dark mode" aria-pressed="false">
      <svg class="theme-icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z"/>
      </svg>
    </button>
  </nav>
</header>
<hr class="topnav-rule">
</div>
<div id="content" class="content">
<header>
<h1 class="title">Persistent Elements in Daily Journals with Org Agenda</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org39cfb9a">A different way of thinking about the org agenda</a></li>
<li><a href="#org9243a39">org-agenda-custom-commands</a></li>
<li><a href="#org11ebaa6">Next Steps</a>
<ul>
<li><a href="#org21208a1"><span class="done DONE">DONE</span> Add TODO entries</a>
<ul>
<li><a href="#orga87a141">UPDATE <span class="timestamp-wrapper"><span class="timestamp">&lt;2024-05-06 Mon&gt;</span></span></a></li>
</ul>
</li>
<li><a href="#org2919a51"><span class="todo TODO">TODO</span> Limit the number of files searched</a></li>
<li><a href="#orgb6752d0"><span class="todo TODO">TODO</span> Add and organize tags</a></li>
<li><a href="#org5b008c0"><span class="todo TODO">TODO</span> Other</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div class="preview" id="orgc21028c">
<p>
I use denote's <a href="https://protesilaos.com/emacs/denote#h:4a6d92dd-19eb-4fcc-a7b5-05ce04da3a92">journaling features</a> to keep a daily project log, where I record whatever I'm working on, stray bits of knowledge, some TODOs, fleeting thoughts, etc.
</p>

<p>
In some cases, I want to refer back to these notes. But I (will) have a lot of these journal files. I don't want to search through them manually to find the name of that article, or that recommendation I jotted down, or whatever it was.
</p>

<p>
This post shows a quick solution to this issue using <a href="https://orgmode.org/worg/org-tutorials/org-custom-agenda-commands.html">org-agenda-custom-commands</a> to make a custom view over specified tags in my journal files.
</p>

</div>

<div id="outline-container-org39cfb9a" class="outline-2">
<h2 id="org39cfb9a">A different way of thinking about the org agenda</h2>
<div class="outline-text-2" id="text-org39cfb9a">
<p>
I've mostly thought of the org agenda as, well, an agenda. It's for managing todos, dates, deadlines. It's a very versatile tool for that purpose, and can pull those elements out of a bunch of different org files. This is great.
</p>

<p>
But it's a lot more general than that. It's not just about building an agenda. We can pull all kinds of structured data out of org files with no need to conceptualize the end result as having anything to do with an agenda.
</p>

<p>
The problem I set out to solve is simple:
</p>
<ul class="org-ul">
<li>I keep daily journal files</li>
<li>I seldom refer back to those files</li>
<li>Sometimes I write something in those journal files that I want to revisit in the future.</li>
</ul>

<p>
You can see the problem. I'm writing something I intend to revisit in the future in a file I tend not to revisit.
</p>

<p>
With the org agenda, I can remedy this as follows:
</p>
<ul class="org-ul">
<li>Apply a tag (or category, or todo status, or another searchable marker) to headers in my journal I want to see in the future</li>
<li>Build a custom org agenda view that searches only the journal files and displays only those tagged headers.</li>
</ul>
</div>
</div>
<div id="outline-container-org9243a39" class="outline-2">
<h2 id="org9243a39">org-agenda-custom-commands</h2>
<div class="outline-text-2" id="text-org9243a39">
<p>
I did this with <a href="https://orgmode.org/worg/org-tutorials/org-custom-agenda-commands.html">org-agenda-custom-commands</a>. It looks like this in my config:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> '((<span class="org-string">"j"</span> <span class="org-string">"Journals"</span> ((tags <span class="org-string">"persist"</span>)
                         (todo))
         ((org-agenda-files
           (file-expand-wildcards <span class="org-string">"~/org/denotes/journal/*.org"</span>))
          (org-agenda-prefix-format <span class="org-string">"%-2c:::"</span>)))))
</pre>
</div>

<p>
This creates a custom view called "journals" that I can select with the "j" command from the agenda menu (from <code>&lt;C-c a&gt;</code>). Any headline tagged with "persist" will appear in that agenda view. It was also updated to include all TODO entries in the journals, ensuring that I properly resolve or migrate them.
</p>
</div>
</div>
<div id="outline-container-org11ebaa6" class="outline-2">
<h2 id="org11ebaa6">Next Steps</h2>
<div class="outline-text-2" id="text-org11ebaa6">
<p>
This is a very simple agenda view. There are a few improvements I intend to make in the near future (I will update this post accordingly).
</p>
</div>
<div id="outline-container-org21208a1" class="outline-3">
<h3 id="org21208a1"><span class="done DONE">DONE</span> Add TODO entries</h3>
<div class="outline-text-3" id="text-org21208a1">
<p>
I want to add TODO entries to the custom view. Any outstanding TODOs from the daily journals should either be closed out or migrated somewhere more permanent.
</p>
</div>
<div id="outline-container-orga87a141" class="outline-4">
<h4 id="orga87a141">UPDATE <span class="timestamp-wrapper"><span class="timestamp">&lt;2024-05-06 Mon&gt;</span></span></h4>
<div class="outline-text-4" id="text-orga87a141">
<p>
This required only very minor changes:
</p>
<ol class="org-ol">
<li>add a <code>(todo)</code> block to the <code>org-agenda-custom-commands</code> specification</li>
<li>make the configuration specifying e.g. the directory and formatting apply to the whole block rather than to individual sections.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org2919a51" class="outline-3">
<h3 id="org2919a51"><span class="todo TODO">TODO</span> Limit the number of files searched</h3>
<div class="outline-text-3" id="text-org2919a51">
<p>
I am not yet entirely sure how to do this one. Org agenda is notorious for slowing down when dealing with a lot of files. The number of daily journal entries will increase in an obvious way. There are some ways to <a href="https://orgmode.org/manual/Filtering_002flimiting-agenda-items.html">filter and limit</a> the results but I'm not sure if they will prevent the agenda from reading more files than it needs to. Something to investigate.
</p>
</div>
</div>
<div id="outline-container-orgb6752d0" class="outline-3">
<h3 id="orgb6752d0"><span class="todo TODO">TODO</span> Add and organize tags</h3>
<div class="outline-text-3" id="text-orgb6752d0">
<p>
I don't just want a catch-all tag. I'd like to have specific tags for e.g. reading lists, project ideas, recommendations, work notes to follow up on, etc.
</p>
</div>
</div>
<div id="outline-container-org5b008c0" class="outline-3">
<h3 id="org5b008c0"><span class="todo TODO">TODO</span> Other</h3>
<div class="outline-text-3" id="text-org5b008c0">
<p>
column view settings, nice date display for each entry, etc.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2024-05-05 Sun 00:00</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15)</p>
</div>
</body>
</html>
